# Quick Start Guide

Get up and running with Argon OpenAPI Generator in less than 5 minutes!

## Prerequisites

- .NET 6.0 SDK or later
- Visual Studio 2022, JetBrains Rider 2022.2+, or Visual Studio Code with C# extension

## Step 1: Install the Package

Add the Argon.OpenApiGenerator package to your ASP.NET Core project:

```bash
dotnet add package Argon.OpenApiGenerator
```

Or edit your `.csproj` file directly:

```xml
<PackageReference Include="Argon.OpenApiGenerator" Version="1.0.0" />
```

## Step 2: Add Your OpenAPI Specification

Place your OpenAPI specification file (YAML or JSON) in your project directory, for example `openapi.yaml`.

## Step 3: Configure the Generator

Edit your `.csproj` file and add the OpenAPI file as an `AdditionalFiles` item with the `OpenApiGenerator` source type:

```xml
<ItemGroup>
  <AdditionalFiles Include="openapi.yaml" SourceItemType="OpenApiGenerator" />
</ItemGroup>
```

## Step 4: Build Your Project

Build your project to trigger code generation:

```bash
dotnet build
```

The generator will create:
- DTO classes/records in the `Generated.Dtos` namespace
- Controller classes in the `Generated.Controllers` namespace

## Step 5: View Generated Code

Generated files appear in your IDE's solution explorer under the project dependencies. You can also find them in the `obj` directory.

## Example: Complete Configuration

```xml
<Project Sdk="Microsoft.NET.Sdk.Web">

  <PropertyGroup>
    <TargetFramework>net8.0</TargetFramework>
    <Nullable>enable</Nullable>
  </PropertyGroup>

  <ItemGroup>
    <!-- Add the generator package -->
    <PackageReference Include="Argon.OpenApiGenerator" Version="1.0.0" />
  </ItemGroup>

  <ItemGroup>
    <!-- Configure OpenAPI file with custom options -->
    <AdditionalFiles Include="api-spec.yaml" SourceItemType="OpenApiGenerator">
      <BaseNamespace>MyApp.Api</BaseNamespace>
      <DtosNamespace>Models</DtosNamespace>
      <ControllersNamespace>Controllers</ControllersNamespace>
      <UseRecords>true</UseRecords>
      <GenerateValidationAttributes>true</GenerateValidationAttributes>
      <UseAsyncControllers>true</UseAsyncControllers>
    </AdditionalFiles>
  </ItemGroup>

</Project>
```

## Example OpenAPI Specification

Here's a minimal OpenAPI spec to get started (`openapi.yaml`):

```yaml
openapi: 3.1.0
info:
  title: Sample API
  version: 1.0.0
paths:
  /users:
    get:
      tags:
        - Users
      summary: Get all users
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/User'
  /users/{id}:
    get:
      tags:
        - Users
      summary: Get user by ID
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
components:
  schemas:
    User:
      type: object
      required:
        - id
        - email
      properties:
        id:
          type: integer
          format: int64
        email:
          type: string
          format: email
        name:
          type: string
```

## What Gets Generated

### User DTO (`Generated.Dtos.User`)

```csharp
// <auto-generated />
#nullable enable

using System;
using System.ComponentModel.DataAnnotations;

namespace Generated.Dtos;

public record User
{
    [Required]
    public required long Id { get; set; }

    [Required]
    public required string Email { get; set; }

    public string? Name { get; set; }
}
```

### Users Controller (`Generated.Controllers.UsersController`)

```csharp
// <auto-generated />
#nullable enable

using System;
using System.Collections.Generic;
using System.Threading.Tasks;
using Microsoft.AspNetCore.Mvc;
using Generated.Dtos;

namespace Generated.Controllers;

[ApiController]
[Route("api/users")]
public class UsersController : ControllerBase
{
    /// <summary>
    /// Get all users
    /// </summary>
    [HttpGet]
    public async Task<IActionResult> GetAllUsersAsync()
    {
        throw new System.NotImplementedException();
    }

    /// <summary>
    /// Get user by ID
    /// </summary>
    [HttpGet("{id}")]
    public async Task<IActionResult> GetUserByIdAsync([FromRoute] long id)
    {
        throw new System.NotImplementedException();
    }
}
```

## Implementing the Controllers

The generated controllers contain method stubs. Implement them using partial classes or inheritance:

### Option 1: Using Partial Classes

Create a partial class file `UsersController.Impl.cs`:

```csharp
using Microsoft.AspNetCore.Mvc;
using Generated.Controllers;
using Generated.Dtos;

namespace Generated.Controllers;

public partial class UsersController
{
    public async Task<IActionResult> GetAllUsersAsync()
    {
        // Your implementation here
        var users = await _userService.GetAllAsync();
        return Ok(users);
    }
}
```

### Option 2: Using Inheritance

```csharp
using Microsoft.AspNetCore.Mvc;
using Generated.Controllers;
using Generated.Dtos;

namespace MyApp.Api.Controllers;

public class UsersControllerImpl : UsersController
{
    private readonly IUserService _userService;

    public UsersControllerImpl(IUserService userService)
    {
        _userService = userService;
    }

    public override async Task<IActionResult> GetAllUsersAsync()
    {
        var users = await _userService.GetAllAsync();
        return Ok(users);
    }
}
```

## Configuration Options

| Option | Default | Description |
|--------|---------|-------------|
| `BaseNamespace` | `Generated` | Base namespace for all generated code |
| `DtosNamespace` | `Dtos` | Namespace suffix for DTOs |
| `ControllersNamespace` | `Controllers` | Namespace suffix for controllers |
| `UseRecords` | `true` | Use records instead of classes for DTOs |
| `GenerateValidationAttributes` | `true` | Add DataAnnotations validation |
| `GenerateXmlDocumentation` | `true` | Generate XML documentation comments |
| `UseAsyncControllers` | `true` | Generate async controller methods |
| `AddApiControllerAttribute` | `true` | Add [ApiController] attribute |
| `ControllerBaseClass` | `ControllerBase` | Base class for controllers |

## Troubleshooting

### No code is generated

1. Ensure the OpenAPI file is marked as `<AdditionalFiles>` with `SourceItemType="OpenApiGenerator"`
2. Clean and rebuild: `dotnet clean && dotnet build`
3. Check the build output for errors or warnings with ID ARGON001, ARGON002, or ARGON003

### Generated code has errors

1. Make sure your OpenAPI spec is valid (use [Swagger Editor](https://editor.swagger.io/))
2. Check that you're using OpenAPI 3.0 or 3.1
3. Verify your project targets .NET 6.0 or later

### Can't see generated files in IDE

- Generated files appear under project dependencies/analyzers
- They're physically located in `obj/<Configuration>/<TargetFramework>/generated/`
- Try reloading the solution or restarting the IDE

## Next Steps

- Read the full [README](README.md) for detailed documentation
- Check the [CONTRIBUTING](CONTRIBUTING.md) guide if you want to contribute
- Review the [CHANGELOG](CHANGELOG.md) for version history
- Explore advanced configuration options

## Need Help?

- Open an issue on GitHub
- Check existing issues for similar problems
- Read the full documentation

---

Happy coding! ðŸš€
