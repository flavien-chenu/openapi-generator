<?xml version="1.0" encoding="utf-8"?>
<Rule Name="OpenApiGeneratorServer"
      DisplayName="OpenAPI Server generator"
      PageTemplate="generic"
      Description="Settings for OpenAPI code generation for server projects."
      xmlns="http://schemas.microsoft.com/build/2009/properties">
    <Rule.DataSource>
        <DataSource Persistence="ProjectFile" ItemType="OpenApiGeneratorServer" HasConfigurationCondition="false" />
    </Rule.DataSource>
    <Rule.Categories>
        <Category Name="Generation" DisplayName="Code Generation" />
        <Category Name="Naming" DisplayName="Namespaces" />
        <Category Name="Controllers" DisplayName="Controller configuration" />
    </Rule.Categories>
    <StringProperty Name="Include" Visible="false" />
    <BoolProperty Name="GenerateControllers" Category="Generation" DisplayName="Generate controllers" />
    <BoolProperty Name="UseRecords" Category="Generation" DisplayName="Use C# Records" />
    <BoolProperty Name="GenerateValidationAttributes" Category="Generation"
                  DisplayName="Generate validation attributes" />
    <BoolProperty Name="GenerateXmlDocumentation" Category="Generation" DisplayName="Generate XML documentation" />
    <BoolProperty Name="UseAsyncControllers" Category="Generation" DisplayName="Use async controllers" />
    <BoolProperty Name="AddApiControllerAttribute" Category="Generation" DisplayName="Add [ApiController]" />
    <StringProperty Name="BaseNamespace" Category="Naming" DisplayName="Base namespace" />
    <StringProperty Name="ContractsNamespace" Category="Naming" DisplayName="Contracts namespace" />
    <StringProperty Name="ControllersNamespace" Category="Naming" DisplayName="Controllers namespace" />
    <StringProperty Name="ControllerBaseClass" Category="Controllers" DisplayName="Controller base class"
                    Description="The base class for generated controllers (default: ControllerBase)" />
    <EnumProperty Name="ControllerGroupingStrategy" Category="Controllers" DisplayName="Controller grouping strategy"
                  Description="Strategy for grouping operations into controllers">
        <EnumValue Name="ByTag" DisplayName="By Tag" Description="Group operations by their OpenAPI tags (default)" />
        <EnumValue Name="ByFirstPathSegment" DisplayName="By First Path Segment"
                   Description="Group operations by the first segment of their path" />
        <EnumValue Name="ByPath" DisplayName="By Path"
                   Description="Create one controller per unique path (excluding parameters)" />
    </EnumProperty>
</Rule>